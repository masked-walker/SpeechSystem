> 全面、专业的RESTful API接口文档，支持高效的前后端分离开发

## 接口统计

通过分析系统代码，发现系统实际包含以下控制器和接口数量：

| 控制器名称                  | 接口数量 | 说明                   |
| --------------------------- | -------- | ---------------------- |
| UserController              | 13       | 用户管理相关接口       |
| RoomController              | 5        | 会议室管理相关接口     |
| BookingsController          | 5        | 预约管理相关接口       |
| ApprovalsController         | 3        | 审批管理相关接口       |
| NotificationController      | 4        | 通知管理相关接口       |
| CreditScoreController       | 1        | 信誉积分管理相关接口   |
| SpecialTimePeriodController | 6        | 特殊时间段管理相关接口 |
| RoleController              | 13       | 角色管理相关接口       |
| PermissionController        | 2        | 权限管理相关接口       |
| SystemConfigController      | 4        | 系统配置相关接口       |
| SystemLogController         | 3        | 系统日志相关接口       |
| StatisticsController        | 5        | 统计分析相关接口       |
| UploadController            | 1        | 文件上传相关接口       |
| UserReviewController        | 6        | 用户评价相关接口       |
| ReviewProcessingController  | 6        | 评价处理相关接口       |
| MisconductTypeController    | 6        | 不文明行为类型相关接口 |
| **总计**                    | **83**   | **系统所有接口**       |

## 📋 API通用说明

### 🔌 接口规范
- **基础路径**：`/api`
- **请求方式**：RESTful (GET, POST, PUT, DELETE)
- **数据格式**：JSON (application/json)
- **字符编码**：UTF-8
- **认证方式**：JWT Token

### 📊 响应格式

**标准响应结构**:
```json
{
    "code": 1,            // 状态码，1表示成功
    "msg": "success",     // 提示信息
    "data": {}            // 响应数据
}
```

**分页响应结构**:
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 100,      // 总记录数
        "rows": [],        // 数据列表
        "pageNum": 1,      // 当前页码
        "pageSize": 10,    // 每页大小
        "pages": 10        // 总页数
    }
}
```

### 🚦 状态码说明
- **1**：成功
- **0**：失败
- **401**：未授权
- **403**：禁止访问
- **404**：资源不存在
- **500**：服务器内部错误

### 🔑 认证说明
- **请求头**：`Authorization: Bearer {token}`
- **Token格式**：JWT
- **Token有效期**：24小时

## *👤 用户管理接口

### 登录
- **请求路径**：`/user/login`
- **请求方式**：POST
- **权限要求**：公开
- **请求参数**：
```json
{
    "username": "string",  // 用户名
    "password": "string"   // 密码
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "eyJhbGciOiJIUzI1NiJ9..."  // JWT token
}
```

### 用户注册
- **请求路径**：`/user/register`
- **请求方式**：POST
- **权限要求**：公开
- **请求参数**：
```json
{
    "username": "nullcat1",  // 用户名
    "password": "1234",      // 密码
    "realName": "张三",      // 真实姓名
    "email": "example@email.com",  // 邮箱
    "phone": "19133986286",  // 手机号
    "roleId": 2              // 角色ID，默认为2(普通用户)
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "注册成功"
}
```

### 退出登录
- **请求路径**：`/user/logout`
- **请求方式**：POST
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "退出成功"
}
```

### 获取用户信息
- **请求路径**：`/user/info`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：无（从Token中获取用户ID）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 2,
        "username": "nullcat1",
        "password": "1234",
        "realName": "张三",
        "email": "example@email.com",
        "phone": "19133986286",
        "avatar": "",
        "roleId": 2,
        "status": 1,
        "creditScore": 100,
        "createTime": "2025-03-27T07:27:12.000+00:00",
        "updateTime": "2025-03-27T07:27:12.000+00:00",
        "isDeleted": false
    }
}
```

### 修改用户信息
- **请求路径**：`/user/info`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：
```json
{
    "realName": "张三",           // 真实姓名
    "email": "example@email.com", // 邮箱
    "phone": "19133986286",       // 手机号
    "avatar": "url"               // 头像URL
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "修改成功"
}
```

### 修改密码
- **请求路径**：`/user/password`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：
```json
{
    "oldPassword": "12345",  // 旧密码
    "password": "1234"       // 新密码
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "修改成功"
}
```

### 获取全部用户信息
- **请求路径**：`/user/users`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 2,
        "rows": [
            {
                "id": 1,
                "username": "admin",
                "realName": "管理员",
                "email": "admin@example.com",
                "phone": "13800000000",
                "status": 1,
                "creditScore": 100,
                "createTime": "2025-03-27T07:27:12.000+00:00",
                "updateTime": "2025-03-27T07:27:12.000+00:00"
            },
            {
                "id": 2,
                "username": "user",
                "realName": "张三",
                "email": "user@example.com",
                "phone": "13911111111",
                "status": 1,
                "creditScore": 95,
                "createTime": "2025-03-27T07:27:12.000+00:00",
                "updateTime": "2025-03-27T07:27:12.000+00:00"
            }
        ],
        "pageNum": 1,
        "pageSize": 10,
        "pages": 1
    }
}
```

### 查看指定用户
- **请求路径**：`/user/getById`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `id`: 用户ID
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 2,
        "username": "nullcat1",
        "password": "1234",
        "realName": "张三",
        "email": "example@email.com",
        "phone": "19133986286",
        "avatar": "",
        "roleId": 2,
        "status": 1,
        "creditScore": 95,
        "createTime": "2025-03-27T07:27:12.000+00:00",
        "updateTime": "2025-03-27T07:27:12.000+00:00",
        "isDeleted": false
    }
}
```

### 添加用户
- **请求路径**：`/user/add`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：
```json
{
    "username": "newuser",      // 用户名
    "password": "password",     // 密码
    "realName": "李四",         // 真实姓名
    "email": "newuser@example.com", // 邮箱
    "phone": "13800000000",     // 手机号
    "roleId": 2                 // 角色ID
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "添加成功！"
}
```

### 编辑指定用户
- **请求路径**：`/user/editById`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
    "id": 2,                    // 用户ID
    "username": "updateduser",  // 用户名
    "realName": "李四",         // 真实姓名
    "email": "updated@example.com", // 邮箱
    "phone": "13800000000",     // 手机号
    "status": 1                 // 状态
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "修改成功"
}
```

### 封禁/解封用户
- **请求路径**：`/user/ban/{id}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "封禁成功"
}
```

### 修改用户角色
- **请求路径**：`/user/{userId}/role`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
    "roleId": 1 // 角色ID
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "用户角色修改成功"
}
```

## 🏢 会议室管理接口

### 获取会议室列表
- **请求路径**：`/rooms`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - `name`: 会议室名称（可选）
  - `location`: 位置（可选）
  - `capacity`: 容纳人数（可选）
  - `status`: 状态（可选）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 5,
    "rows": [
      {
        "id": 7,
        "name": "会议室5",
        "location": "611",
        "capacity": 80,
        "equipment": "设备名称",
        "description": "描述",
        "status": 1,
        "createTime": "2025-04-03 13:58:49",
        "updateTime": "2025-04-03 14:11:54",
        "isDeleted": false
      },
      {
        "id": 6,
        "name": "会议室4",
        "location": "609",
        "capacity": 10,
        "equipment": null,
        "description": null,
        "status": 1,
        "createTime": "2025-04-03 13:58:25",
        "updateTime": "2025-04-03 13:58:25",
        "isDeleted": false
      },
      {
        "id": 4,
        "name": "会议室3",
        "location": "607",
        "capacity": 10,
        "equipment": null,
        "description": null,
        "status": 1,
        "createTime": "2025-04-01 19:44:21",
        "updateTime": "2025-04-02 15:50:53",
        "isDeleted": false
      },
      {
        "id": 3,
        "name": "会议室2",
        "location": "605",
        "capacity": 20,
        "equipment": null,
        "description": null,
        "status": 1,
        "createTime": "2025-03-31 16:33:51",
        "updateTime": "2025-04-01 21:55:33",
        "isDeleted": false
      },
      {
        "id": 1,
        "name": "会议室1",
        "location": "603",
        "capacity": 5,
        "equipment": "",
        "description": "",
        "status": 0,
        "createTime": "2025-03-27 16:36:41",
        "updateTime": "2025-04-06 21:45:38",
        "isDeleted": false
      }
    ]
  }
}
```

### 根据id获取会议室详情
- **请求路径**：`/rooms/{id}`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 1,
        "name": "会议室1",
        "location": "607",
        "capacity": 10,
        "equipment": "设备配置",
        "description": "描述2",
        "status": 1,
        "createTime": "2025-03-27T08:36:41.000+00:00",
        "updateTime": "2025-03-27T08:38:06.000+00:00",
        "isDeleted": false
    }
}
```

### 新增会议室
- **请求路径**：`/rooms`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：
```json
{
    "name": "会议室1",           // 会议室名称
    "location": "607",          // 位置
    "capacity": 10,             // 容纳人数
    "equipment": "设备配置",      // 设备配置（JSON格式）
    "description": "描述1"       // 描述
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "添加成功"
}
```

### 修改会议室
- **请求路径**：`/rooms/{id}`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
    "name": "会议室1",           // 会议室名称
    "location": "607",          // 位置
    "capacity": 10,             // 容纳人数
    "equipment": "设备配置",      // 设备配置（JSON格式）
    "description": "描述2",      // 描述
    "status": 1                 // 状态
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "修改成功"
}
```

### 删除会议室
- **请求路径**：`/rooms/{id}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "删除成功"
}
```

## *📅 预约管理接口

### 获取预约列表
- **请求路径**：`/bookings`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - `roomId`: 会议室ID（可选）
  - `userId`: 预约用户ID（可选）
  - `status`: 状态（可选）
  - `begin`: 开始日期（可选，格式：yyyy-MM-dd）
  - `end`: 结束日期（可选，格式：yyyy-MM-dd）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 1,
        "rows": [
            {
                "id": 1,
                "roomId": 1,
                "userId": 2,
                "title": "会议主题2",
                "startTime": "2025-03-27 14:42:20",
                "endTime": "2025-03-27 18:42:20",
                "attendees": "参会人员2",
                "description": "描述",
                "status": 0,
                "createTime": "2025-03-27 19:32:06",
                "updateTime": "2025-03-27 19:33:14",
                "isDeleted": false
            }
        ],
        "pageNum": 1,
        "pageSize": 10,
        "pages": 1
    }
}
```

### 获取预约详情
- **请求路径**：`/bookings/{id}`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 1,
        "roomId": 1,
        "userId": 2,
        "title": "会议主题2",
        "startTime": "2025-03-27 14:42:20",
        "endTime": "2025-03-27 18:42:20",
        "attendees": "参会人员2",
        "description": "描述",
        "status": 0,
        "createTime": "2025-03-27 19:32:06",
        "updateTime": "2025-03-27 19:33:14",
        "isDeleted": false
    }
}
```

### 新增预约
- **请求路径**：`/bookings`
- **请求方式**：POST
- **权限要求**：用户
- **请求参数**：
```json
{
    "roomId": 1,                     // 会议室ID
    "title": "会议主题1",             // 会议主题
    "startTime": "2025-03-27 14:42:20", // 开始时间
    "endTime": "2025-03-27 16:42:20",   // 结束时间
    "attendees": "参会人员",           // 参会人员
    "description": "描述"              // 描述
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "预约成功"
}
```

### 修改预约
- **请求路径**：`/bookings/{id}`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：
```json
{
    "title": "会议主题2",              // 会议主题
    "startTime": "2025-03-27 14:42:20", // 开始时间
    "endTime": "2025-03-27 18:42:20",   // 结束时间
    "attendees": "参会人员2",           // 参会人员
    "description": "描述"               // 描述
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "修改成功"
}
```

### 取消预约
- **请求路径**：`/bookings/{id}/cancel`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "取消成功"
}
```

### 检查特殊时间段预约可用性
- **请求路径**：`/bookings/check-special-time`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `userId`: 用户ID
  - `roomId`: 会议室ID
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "available": true,
        "reason": "",
        "userType": "teacher",
        "availableCount": 5
    }
}
```

## *✅ 审批管理接口

### *获取待审批列表
- **请求路径**：`/approvals/pending`
- **请求方式**：GET
- **权限要求**：管理员/审批人
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 1,
        "rows": [
            {
                "id": 1,
                "bookingId": 7,
                "approverId": null,
                "status": 0,
                "comment": null,
                "createTime": "2025-03-27 20:48:34",
                "updateTime": "2025-03-27 20:48:34",
                "isDeleted": false,
                "title": "环保",
                "startTime": "2025-03-27 14:42:20",
                "endTime": "2025-03-27 16:42:20",
                "applicantId": 2,
                "applicantName": "张三",
                "roomName": "会议室1"
            }
        ],
        "pageNum": 1,
        "pageSize": 10,
        "pages": 1
    }
}
```

### 获取已审批列表
- **请求路径**：`/approvals/approved`
- **请求方式**：GET
- **权限要求**：管理员/审批人
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 35,
    "rows": [
      {
        "id": 50,
        "bookingId": 63,
        "approverId": 1,
        "status": 1,
        "comment": "",
        "createTime": "2025-04-08 14:16:19",
        "updateTime": "2025-04-08 14:16:39",
        "isDeleted": false,
        "title": "111",
        "startTime": "2025-04-08 08:00:00",
        "endTime": "2025-04-08 09:00:00",
        "applicantId": 4,
        "applicantName": "yonghu",
        "roomName": "会议室3"
      },
      {
        "id": 49,
        "bookingId": 62,
        "approverId": 1,
        "status": 2,
        "comment": "",
        "createTime": "2025-04-08 14:10:59",
        "updateTime": "2025-04-08 14:11:47",
        "isDeleted": false,
        "title": "csct",
        "startTime": "2025-04-08 09:30:00",
        "endTime": "2025-04-08 10:00:00",
        "applicantId": 1,
        "applicantName": "admin",
        "roomName": "会议室3"
      },
      {
        "id": 48,
        "bookingId": 59,
        "approverId": 1,
        "status": 1,
        "comment": "",
        "createTime": "2025-04-08 14:06:48",
        "updateTime": "2025-04-08 14:07:00",
        "isDeleted": false,
        "title": "ces",
        "startTime": "2025-04-08 09:00:00",
        "endTime": "2025-04-08 10:00:00",
        "applicantId": 1,
        "applicantName": "admin",
        "roomName": "会议室5"
      }
    ]
  }
}
```

### *审批预约
- **请求路径**：`/approvals/{id}`
- **请求方式**：PUT
- **权限要求**：管理员/审批人
- **请求参数**：
```json
{
    "status": 1,    // 审批状态（1:通过，2:拒绝）
    "comment": "ok"  // 审批意见
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "审批成功"
}
```

## 🔔 通知管理接口

### 获取通知列表
- **请求路径**：`/notification`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - `type`: 通知类型（可选）
  - `is_read`: 是否已读（可选）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 21,
    "rows": [
      {
        "id": 79,
        "userId": 1,
        "title": "预约已结束",
        "content": "您的预约[111]已结束",
        "type": 2,
        "isRead": false,
        "createTime": "2025-04-08 14:45:00",
        "updateTime": "2025-04-08 14:45:00",
        "isDeleted": false,
        "receiverType": null,
        "receiverId": null,
        "roleId": null
      },
      {
        "id": 77,
        "userId": 1,
        "title": "预约状态变更",
        "content": "您的预约[csct]状态已变更为：已拒绝",
        "type": 1,
        "isRead": true,
        "createTime": "2025-04-08 14:11:47",
        "updateTime": "2025-04-08 14:12:33",
        "isDeleted": false,
        "receiverType": null,
        "receiverId": null,
        "roleId": null
      },
      {
        "id": 76,
        "userId": 1,
        "title": "预约状态变更",
        "content": "您的预约[ces]状态已变更为：已通过",
        "type": 1,
        "isRead": true,
        "createTime": "2025-04-08 14:07:00",
        "updateTime": "2025-04-08 14:37:26",
        "isDeleted": false,
        "receiverType": null,
        "receiverId": null,
        "roleId": null
      },
      {
        "id": 70,
        "userId": 1,
        "title": "测试",
        "content": "测试公告发布",
        "type": 3,
        "isRead": true,
        "createTime": "2025-04-06 22:11:20",
        "updateTime": "2025-04-08 14:37:27",
        "isDeleted": false,
        "receiverType": null,
        "receiverId": null,
        "roleId": null
      }
    ]
  }
}
```

### 标记通知已读

- **请求路径**：`/notification/{id}/read`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": "已标记已读"
}
```

### 发布通知

- **请求路径**：`/notification/send`
- **请求方式**：POST
- **权限要求**：用户
- **请求参数**：

```
{
  "title": "测试",
  "content": "测试",
  "type": 1,
  "receiverType": 2
}
```

- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": "发布成功"
}
```

### 获取未读通知数量

- **请求路径**：`/notification/unread/count`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": 1
}
```



## 💯 信誉积分管理接口

### 查询信誉分变动历史
- **请求路径**：`/credit/history`
- **请求方式**：GET
- **权限要求**：用户（查看自己）/管理员（查看所有）
- **请求参数**：
  - `userId`: 用户ID（管理员可查询任意用户，普通用户只能查询自己）
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - `startDate`: 开始日期（可选，格式：yyyy-MM-dd）
  - `endDate`: 结束日期（可选，格式：yyyy-MM-dd）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 4,
    "rows": [
      {
        "id": 4,
        "userId": 4,
        "scoreChange": 2,
        "previousScore": 99,
        "currentScore": 100,
        "changeReason": "评价处理: 批量处理",
        "relatedId": 2,
        "operatorId": 1,
        "createTime": "2025-04-14 16:00:24"
      },
      {
        "id": 3,
        "userId": 4,
        "scoreChange": -1,
        "previousScore": 100,
        "currentScore": 99,
        "changeReason": "撤销评价处理",
        "relatedId": 2,
        "operatorId": 1,
        "createTime": "2025-04-14 15:54:13"
      }
    ]
  }
}
```

## *🔄 角色管理接口

### 获取所有角色
- **请求路径**：`/roles`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "id": 1,
      "roleName": "超级管理员",
      "roleCode": "ADMIN",
      "description": "系统超级管理员，拥有所有权限",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 2,
      "roleName": "普通用户",
      "roleCode": "USER",
      "description": "普通用户，可以预约会议室",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 3,
      "roleName": "审批人",
      "roleCode": "APPROVER",
      "description": "审批人，负责审批预约申请",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 4,
      "roleName": "测试角色",
      "roleCode": "TRY_ROLE",
      "description": "测试1",
      "createTime": "2025-04-06 16:28:13",
      "updateTime": "2025-04-06 16:37:50",
      "isDeleted": false
    }
  ]
}{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "id": 1,
      "roleName": "超级管理员",
      "roleCode": "ADMIN",
      "description": "系统超级管理员，拥有所有权限",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 2,
      "roleName": "普通用户",
      "roleCode": "USER",
      "description": "普通用户，可以预约会议室",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 3,
      "roleName": "审批人",
      "roleCode": "APPROVER",
      "description": "审批人，负责审批预约申请",
      "createTime": "2025-03-28 23:22:12",
      "updateTime": "2025-03-28 23:22:12",
      "isDeleted": false
    },
    {
      "id": 4,
      "roleName": "测试角色",
      "roleCode": "TRY_ROLE",
      "description": "测试1",
      "createTime": "2025-04-06 16:28:13",
      "updateTime": "2025-04-06 16:37:50",
      "isDeleted": false
    }
  ]
}
```



### 获取角色详情
- **请求路径**：`/roles/{id}`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 1,
    "roleName": "超级管理员",
    "roleCode": "ADMIN",
    "description": "系统超级管理员，拥有所有权限",
    "createTime": "2025-03-28 23:22:12",
    "updateTime": "2025-03-28 23:22:12",
    "isDeleted": false
  }
}
```



### 获取角色权限
- **请求路径**：`/roles/{id}/permissions`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": [
    "system",
    "system:user",
    "system:user:view",
    "system:user:add",
    "system:user:edit",
    "system:user:delete",
    "system:config",
    "system:config:view",
    "system:config:edit",
    "room",
    "room:list",
    "room:view",
    "room:add",
    "room:edit",
    "room:delete",
    "booking",
    "booking:list",
    "booking:view",
    "booking:add",
    "booking:edit",
    "booking:cancel",
    "booking:manage",
    "booking:approve",
    "notification",
    "notification:list",
    "notification:view",
    "notification:send",
    "notification:manage",
    "report",
    "report:view",
    "system:role",
    "system:role:view",
    "system:role:add",
    "system:role:edit",
    "system:role:delete",
    "system:permission",
    "system:permission:view",
    "misconduct",
    "misconduct:view",
    "misconduct:add",
    "misconduct:edit",
    "misconduct:delete",
    "review",
    "review:view",
    "review:process"
  ]
}
```

### 获取角色权限ID列表
- **请求路径**：`/roles/{id}/permissionIds`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：id
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": [
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    26,
    27,
    28,
    29,
    30,
    31,
    32,
    33,
    34,
    35,
    36,
    37,
    38,
    39,
    40,
    41,
    42,
    43,
    44,
    45
  ]
}
```



### 创建角色
- **请求路径**：`/roles`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：

```
{
  "roleName": "测试角色2",
  "roleCode": "ceshi",
  "description": "测试添加角色"
}
```

- **响应数据**：

```
{
  "code": 1,
  "msg": "角色创建成功",
  "data": 5
}
```

### 更新角色
- **请求路径**：`/roles/{id}`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：

```
{
  "roleName": "测试角色2",
  "roleCode": "ceshi2",
  "description": "测试修改角色"
}
```

- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": "角色更新成功"
}
```

### 删除角色
- **请求路径**：`/roles/{id}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": "角色删除成功"
}
```

### *设置角色权限
- **请求路径**：`/roles/{id}/permissions`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：权限ID列表
- **响应数据**：返回设置结果

### 为角色添加权限
- **请求路径**：`/roles/{roleId}/permissions`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：权限ID或权限代码
- **响应数据**：返回添加结果

### 移除角色权限
- **请求路径**：`/roles/{roleId}/permissions/code/{permissionCode}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：返回移除结果

### 通过ID移除角色权限
- **请求路径**：`/roles/{roleId}/permissions/{permissionId}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：返回移除结果

### 获取所有权限编码
- **请求路径**：`/roles/permissions/codes`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：返回所有权限编码列表

## 🔒 权限管理接口

### 获取所有权限
- **请求路径**：`/permissions`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "id": 1,
      "parentId": 0,
      "name": "系统管理",
      "code": "system",
      "type": 1,
      "path": "/system",
      "component": "Layout",
      "icon": "setting",
      "sort": 1,
      "status": 1,
      "createTime": "2025-03-31 23:44:57",
      "updateTime": "2025-03-31 23:44:57",
      "isDeleted": false
    },
    {
      "id": 2,
      "parentId": 1,
      "name": "用户管理",
      "code": "system:user",
      "type": 1,
      "path": "/system/user",
      "component": "system/User",
      "icon": "user",
      "sort": 1,
      "status": 1,
      "createTime": "2025-03-31 23:44:57",
      "updateTime": "2025-03-31 23:44:57",
      "isDeleted": false
    },
    {
      "id": 3,
      "parentId": 2,
      "name": "查看用户",
      "code": "system:user:view",
      "type": 2,
      "path": null,
      "component": null,
      "icon": null,
      "sort": 1,
      "status": 1,
      "createTime": "2025-03-31 23:44:57",
      "updateTime": "2025-03-31 23:44:57",
      "isDeleted": false
    },
    {
      "id": 4,
      "parentId": 2,
      "name": "添加用户",
      "code": "system:user:add",
      "type": 2,
      "path": null,
      "component": null,
      "icon": null,
      "sort": 2,
      "status": 1,
      "createTime": "2025-03-31 23:44:57",
      "updateTime": "2025-03-31 23:44:57",
      "isDeleted": false
    }
  ]
}
```



### 获取权限详情
- **请求路径**：`/permissions/{id}`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 2,
    "parentId": 1,
    "name": "用户管理",
    "code": "system:user",
    "type": 1,
    "path": "/system/user",
    "component": "system/User",
    "icon": "user",
    "sort": 1,
    "status": 1,
    "createTime": "2025-03-31 23:44:57",
    "updateTime": "2025-03-31 23:44:57",
    "isDeleted": false
  }
}
```



## *⚙️ 系统配置管理接口

### 获取系统配置
- **请求路径**：`/system/config`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 1,
        "configKey": "booking_approval_required",
        "configValue": "true",
        "description": "是否需要审批预约",
        "createTime": "2025-03-27 08:00:00",
        "updateTime": "2025-03-27 08:00:00",
        "isDeleted": false
    }
}
```

### 获取所有系统配置
- **请求路径**：`/system/config/all`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": [
        {
            "id": 1,
            "configKey": "booking_approval_required",
            "configValue": "true",
            "description": "是否需要审批预约",
            "createTime": "2025-03-27 08:00:00",
            "updateTime": "2025-03-27 08:00:00",
            "isDeleted": false
        },
        {
            "id": 2,
            "configKey": "min_credit_score",
            "configValue": "60",
            "description": "最低信誉分要求",
            "createTime": "2025-03-27 08:00:00",
            "updateTime": "2025-03-27 08:00:00",
            "isDeleted": false
        }
    ]
}
```

### 更新系统配置
- **请求路径**：`/system/config/{id}`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
    "configValue": "false",  // 配置值
    "description": "是否需要审批预约"  // 配置描述
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "更新成功"
}
```

### 添加系统配置
- **请求路径**：`/system/config`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：
```json
{
    "configKey": "max_booking_days",  // 配置键
    "configValue": "30",  // 配置值
    "description": "最大预约天数"  // 配置描述
}
```
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "添加成功"
}
```

## 📝 操作日志管理接口

### 获取所有日志操作类型
- **请求路径**：`/system/log-operations`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 2,
        "rows": [
            {
                "id": 1,{
  "code": 1,
  "msg": "success",
  "data": [
    "修改系统配置",
    "修改预约",
    "创建角色",
    "删除不文明行为类型",
    "删除角色",
    "发布通知",
    "取消预约",
    "审批预约",
    "手动调整配置",
    "新增预约",
    "更新不文明行为类型",
    "更新个人信息/密码",
    "更新会议室信息",
    "更新用户角色",
    "更新角色",
    "添加不文明行为类型",
    "添加会议室",
    "添加用户",
    "自动调整配置",
    "获取全部用户信息",
    "设置角色权限"
  ]
}
                "userId": 1,
                "username": "admin",
                "operation": "登录系统",
                "method": "com.example.controller.UserController.login",
                "params": "{\"username\":\"admin\",\"password\":\"******\"}",
                "ip": "127.0.0.1",
                "createTime": "2025-03-28 09:00:00",
                "isDeleted": false
            },
            {
                "id": 2,
                "userId": 1,
                "username": "admin",
                "operation": "更新系统配置",
                "method": "com.example.controller.SystemConfigController.updateConfig",
                "params": "{\"id\":1,\"configValue\":\"false\",\"description\":\"是否需要审批预约\"}",
                "ip": "127.0.0.1",
                "createTime": "2025-03-28 09:15:00",
                "isDeleted": false
            }
        ],
        "pageNum": 1,
        "pageSize": 10,
        "pages": 1
    }
}
```

### 获取所有日志操作模块
- **请求路径**：`/system/log-modules`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": [
    "不文明行为类型管理",
    "会议室管理",
    "权限管理",
    "特殊时间段管理",
    "用户管理",
    "系统管理",
    "通知管理",
    "预约管理"
  ]
}
```

### 分页条件获取操作日志列表
- **请求路径**：`/system/logs`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
- page(默认1)
- pageSize（默认10）
- userId（可选）
- module（可选）
- operation（可选）
- startTime（可选）
- endTime（可选）

- **响应数据**：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 666,
    "rows": [
      {
        "id": 666,
        "userId": 1,
        "module": "通知管理",
        "operation": "发布通知",
        "description": "发布通知",
        "ip": "0:0:0:0:0:0:0:1",
        "createTime": "2025-04-14 17:13:26",
        "userName": "admin",
        "realName": "超级管理员"
      },
      {
        "id": 665,
        "userId": 1,
        "module": "特殊时间段管理",
        "operation": "自动调整配置",
        "description": "自动调整下一周特殊时间段配置",
        "ip": "0:0:0:0:0:0:0:1",
        "createTime": "2025-04-14 16:56:58",
        "userName": "admin",
        "realName": "超级管理员"
      },
      {
        "id": 664,
        "userId": 1,
        "module": "特殊时间段管理",
        "operation": "手动调整配置",
        "description": "手动调整特殊时间段配置",
        "ip": "0:0:0:0:0:0:0:1",
        "createTime": "2025-04-14 16:56:22",
        "userName": "admin",
        "realName": "超级管理员"
      },
      {
        "id": 663,
        "userId": 1,
        "module": "权限管理",
        "operation": "删除角色",
        "description": "删除角色",
        "ip": "0:0:0:0:0:0:0:1",
        "createTime": "2025-04-14 15:27:30",
        "userName": "admin",
        "realName": "超级管理员"
      },
      {
        "id": 662,
        "userId": 1,
        "module": "权限管理",
        "operation": "更新角色",
        "description": "更新角色信息",
        "ip": "0:0:0:0:0:0:0:1",
        "createTime": "2025-04-14 15:26:51",
        "userName": "admin",
        "realName": "超级管理员"
      }
    ]
  }
}
```

## 📊 数据统计接口

### 获取全部数据
- **请求路径**：`/statistics/all`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
  - `endDate`: 结束日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "roomUsage": [
      {
        "roomId": 7,
        "roomName": "会议室5",
        "location": "611",
        "capacity": 80,
        "bookingCount": 8,
        "usageRate": 25.81
      },
      {
        "roomId": 3,
        "roomName": "会议室2",
        "location": "605",
        "capacity": 20,
        "bookingCount": 6,
        "usageRate": 19.35
      },
      {
        "roomId": 6,
        "roomName": "会议室4",
        "location": "609",
        "capacity": 10,
        "bookingCount": 4,
        "usageRate": 12.9
      },
      {
        "roomId": 4,
        "roomName": "会议室3",
        "location": "607",
        "capacity": 10,
        "bookingCount": 3,
        "usageRate": 9.68
      },
      {
        "roomId": 1,
        "roomName": "会议室1",
        "location": "603",
        "capacity": 5,
        "bookingCount": 1,
        "usageRate": 3.23
      }
    ],
    "bookingStatus": [
      {
        "status": 1,
        "statusName": "已通过",
        "count": 22,
        "percentage": 52.38
      },
      {
        "status": 2,
        "statusName": "已拒绝",
        "count": 12,
        "percentage": 28.57
      },
      {
        "status": 3,
        "statusName": "已取消",
        "count": 8,
        "percentage": 19.05
      }
    ],
    "userRanking": [
      {
        "userId": 4,
        "username": "yonghu",
        "realName": "普通用户",
        "bookingCount": 13
      },
      {
        "userId": 1,
        "username": "admin",
        "realName": "超级管理员",
        "bookingCount": 9
      },
      {
        "userId": 3,
        "username": "shenpiren",
        "realName": "审批人",
        "bookingCount": 0
      },
      {
        "userId": 5,
        "username": "yonghu2",
        "realName": "李四",
        "bookingCount": 0
      },
      {
        "userId": 6,
        "username": "yonghu3",
        "realName": "测试用户",
        "bookingCount": 0
      },
      {
        "userId": 7,
        "username": "yonghu4",
        "realName": "赵六",
        "bookingCount": 0
      }
    ],
    "meetingDuration": [
      {
        "durationRange": "不到1小时",
        "count": 10,
        "percentage": 45.45
      },
      {
        "durationRange": "1-2小时",
        "count": 9,
        "percentage": 40.91
      },
      {
        "durationRange": "2-3小时",
        "count": 2,
        "percentage": 9.09
      },
      {
        "durationRange": "3-4小时",
        "count": 1,
        "percentage": 4.55
      }
    ],
    "totalBookings": 42,
    "totalUsers": 6,
    "totalRooms": 5
  }
}
```

### 获取会议持续时间统计信息
- **请求路径**：`/statistics/meeting-duration`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
  - `endDate`: 结束日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "durationRange": "不到1小时",
      "count": 10,
      "percentage": 45.45
    },
    {
      "durationRange": "1-2小时",
      "count": 9,
      "percentage": 40.91
    },
    {
      "durationRange": "2-3小时",
      "count": 2,
      "percentage": 9.09
    },
    {
      "durationRange": "3-4小时",
      "count": 1,
      "percentage": 4.55
    }
  ]
}
```

### 获取每日预约统计
- **请求路径**：`/statistics/daily-bookings`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
  - `endDate`: 结束日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": [
        {
            "date": "2025-03-01",
            "bookingCount": 5,
            "totalHours": 10.5
        },
        {
            "date": "2025-03-02",
            "bookingCount": 3,
            "totalHours": 6.0
        }
    ]
}
```

### 获取会议室使用率
- **请求路径**：`/statistics/booking-status`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
  - `endDate`: 结束日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "roomId": 7,
      "roomName": "会议室5",
      "location": "611",
      "capacity": 80,
      "bookingCount": 8,
      "usageRate": 25.81
    },
    {
      "roomId": 3,
      "roomName": "会议室2",
      "location": "605",
      "capacity": 20,
      "bookingCount": 6,
      "usageRate": 19.35
    },
    {
      "roomId": 6,
      "roomName": "会议室4",
      "location": "609",
      "capacity": 10,
      "bookingCount": 4,
      "usageRate": 12.9
    },
    {
      "roomId": 4,
      "roomName": "会议室3",
      "location": "607",
      "capacity": 10,
      "bookingCount": 3,
      "usageRate": 9.68
    },
    {
      "roomId": 1,
      "roomName": "会议室1",
      "location": "603",
      "capacity": 5,
      "bookingCount": 1,
      "usageRate": 3.23
    }
  ]
}
```

### 获取用户预约排名
- **请求路径**：`/statistics/user-ranking`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "userId": 4,
      "username": "yonghu",
      "realName": "普通用户",
      "bookingCount": 13
    },
    {
      "userId": 1,
      "username": "admin",
      "realName": "超级管理员",
      "bookingCount": 9
    },
    {
      "userId": 3,
      "username": "shenpiren",
      "realName": "审批人",
      "bookingCount": 0
    },
    {
      "userId": 5,
      "username": "yonghu2",
      "realName": "李四",
      "bookingCount": 0
    },
    {
      "userId": 6,
      "username": "yonghu3",
      "realName": "测试用户",
      "bookingCount": 0
    },
    {
      "userId": 7,
      "username": "yonghu4",
      "realName": "赵六",
      "bookingCount": 0
    }
  ]
}
```

## 📤 文件上传接口

### 上传图片
- **请求路径**：`/upload`
- **请求方式**：POST
- **权限要求**：用户
- **请求参数**：
  - image：图片文件
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "https://web2-zizisuo.oss-cn-hangzhou.aliyuncs.com/5724b046-8465-46cd-a1d0-d988e98bf98e.png"
}
```

## 🌟 用户评价接口

### 查看我收到的评价
- **请求路径**：`/review/incoming`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - reviewType：评价类型（可选）
  - startDate：（可选）
  - endDate：（可选）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "id": 2,
        "roomId": 3,
        "bookingId": 23,
        "reviewerId": 1,
        "reviewedUserId": 4,
        "reviewScore": 5,
        "reviewType": 1,
        "reviewContent": "测试评价",
        "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
        "isProcessed": 1,
        "creditImpact": 2,
        "createTime": "2025-04-14 15:42:25",
        "updateTime": "2025-04-14 16:00:25",
        "reviewerName": "admin",
        "reviewedUserName": null,
        "roomName": "会议室2",
        "evidenceUrlList": [
          "[\"http://example.com/image1.jpg\"]"
        ]
      },
      {
        "id": 1,
        "roomId": 1,
        "bookingId": 22,
        "reviewerId": 1,
        "reviewedUserId": 4,
        "reviewScore": 5,
        "reviewType": 1,
        "reviewContent": "非常清洁？",
        "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
        "isProcessed": 1,
        "creditImpact": 1,
        "createTime": "2025-04-12 16:36:14",
        "updateTime": "2025-04-12 20:28:14",
        "reviewerName": "admin",
        "reviewedUserName": null,
        "roomName": "会议室1",
        "evidenceUrlList": [
          "[\"http://example.com/image1.jpg\"]"
        ]
      }
    ]
  }
}
```

### 获取评价详情
- **请求路径**：`/review/{id}`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 1,
    "roomId": 1,
    "bookingId": 22,
    "reviewerId": 1,
    "reviewedUserId": 4,
    "reviewScore": 5,
    "reviewType": 1,
    "reviewContent": "非常清洁？",
    "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
    "isProcessed": 1,
    "creditImpact": 1,
    "createTime": "2025-04-12 16:36:14",
    "updateTime": "2025-04-12 20:28:14",
    "reviewerName": "admin",
    "reviewedUserName": "yonghu",
    "roomName": "会议室1",
    "evidenceUrlList": [
      "[\"http://example.com/image1.jpg\"]"
    ]
  }
}
```

### 提交评价
- **请求路径**：`/review`
- **请求方式**：POST
- **权限要求**：用户
- **请求参数**：
```json
{
  "roomId": 3,
  "bookingId": 23,
  "reviewerId": 1,
  "reviewedUserId": 4,
  "reviewScore": 5,
  "reviewType": 1,
  "reviewContent": "测试评价",
  "evidenceUrls": "[\"http://example.com/image1.jpg\"]"
}
```
- **响应数据**：
```json
{
  "code": 1,
  "msg": "评价提交成功",
  "data": 2
}
```

### 修改评价
- **请求路径**：`/review/{id}`
- **请求方式**：PUT
- **权限要求**：用户
- **请求参数**：
```json
{
  "roomId": 1,
  "reviewScore": 5,
  "reviewType": 1,
  "reviewContent": "非常清洁？xiugai2",
  "evidenceUrls": "[\"http://example.com/image1.jpg\"]"
}
```
- **响应数据**：
```json
{
  "code": 0,
  "msg": "已处理的评价不能修改",
  "data": null
}
```

### 删除评价
- **请求路径**：`/review/{id}`
- **请求方式**：DELETE
- **权限要求**：用户/管理员
- **请求参数**：无
- **响应数据**：
```json
{
    "code": 1,
    "msg": "success",
    "data": "删除成功"
}或
{
  "code": 0,
  "msg": "已处理的评价不能删除",
  "data": null
}
```

### 查看我发出的评价
- **请求路径**：`/review/outgoing`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "id": 2,
        "roomId": 3,
        "bookingId": 23,
        "reviewerId": 1,
        "reviewedUserId": 4,
        "reviewScore": 5,
        "reviewType": 1,
        "reviewContent": "测试评价",
        "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
        "isProcessed": 1,
        "creditImpact": 2,
        "createTime": "2025-04-14 15:42:25",
        "updateTime": "2025-04-14 16:00:25",
        "reviewerName": null,
        "reviewedUserName": "yonghu",
        "roomName": "会议室2",
        "evidenceUrlList": [
          "[\"http://example.com/image1.jpg\"]"
        ]
      },
      {
        "id": 1,
        "roomId": 1,
        "bookingId": 22,
        "reviewerId": 1,
        "reviewedUserId": 4,
        "reviewScore": 5,
        "reviewType": 1,
        "reviewContent": "非常清洁？",
        "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
        "isProcessed": 1,
        "creditImpact": 1,
        "createTime": "2025-04-12 16:36:14",
        "updateTime": "2025-04-12 20:28:14",
        "reviewerName": null,
        "reviewedUserName": "yonghu",
        "roomName": "会议室1",
        "evidenceUrlList": [
          "[\"http://example.com/image1.jpg\"]"
        ]
      }
    ]
  }
}
```

## 🔍 评价处理接口

### 获取待处理评价列表
- **请求路径**：/review/process/pending`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - reviewType : 评价类型(可选)
  - startDate：筛选开始时间(可选)
  - endDate：筛选结束时间(可选)
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 1,
    "rows": [
      {
        "id": 2,
        "roomId": 3,
        "bookingId": 23,
        "reviewerId": 1,
        "reviewedUserId": 4,
        "reviewScore": 5,
        "reviewType": 1,
        "reviewContent": "测试评价",
        "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
        "isProcessed": 0,
        "creditImpact": null,
        "createTime": "2025-04-14 15:42:25",
        "updateTime": "2025-04-14 15:42:25",
        "reviewerName": "admin",
        "reviewedUserName": "yonghu",
        "roomName": "会议室2",
        "evidenceUrlList": null
      }
    ]
  }
}
```

### 获取已处理评价列表
- **请求路径**：`/review-processing/processed`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
  - reviewType : 评价类型(可选)
  - startDate：筛选开始时间(可选)
  - endDate：筛选结束时间(可选)
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 1,
    "rows": [
      {
        "id": 2,
        "reviewId": 1,
        "processorId": 1,
        "processingResult": 1,
        "finalCreditImpact": 1,
        "processingComment": null,
        "createTime": "2025-04-12 20:28:14",
        "processorName": "admin",
        "userReview": {
          "id": 1,
          "roomId": 1,
          "bookingId": 22,
          "reviewerId": 1,
          "reviewedUserId": 4,
          "reviewScore": 5,
          "reviewType": 1,
          "reviewContent": "非常清洁？",
          "evidenceUrls": "[\"http://example.com/image1.jpg\"]",
          "isProcessed": 1,
          "creditImpact": 1,
          "createTime": "2025-04-12 16:36:14",
          "updateTime": "2025-04-12 20:28:14",
          "reviewerName": "admin",
          "reviewedUserName": "yonghu",
          "roomName": "会议室1",
          "evidenceUrlList": null
        }
      }
    ]
  }
}
```

### 处理评价
- **请求路径**：`/review-processing/{id}`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
  - reviewId：评价id
  - creditImpact：信誉分数影响
  - processingNotes：处理意见(可选)

- **响应数据**：
```json
{
  "code": 1,
  "msg": "处理成功",
  "data": 3
}
```

### 撤销处理
- **请求路径**：`/review/process/undo`
- **请求方式**：POST
- **权限要求**：管理员/评价人
- **请求参数**：reviewId（必须）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "撤销处理成功"
}
```

### 批量处理评价
- **请求路径**：`/review-processing/batch`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
  "reviewIds": [2],
  "creditImpact": 2,
  "processingNotes": "备注信息"
}
```
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "全部处理成功"
}
```

### 获取评价处理统计
- **请求路径**：`/review/process/statistics`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "reviewTypeDistribution": [
      {
        "count": 2,
        "review_type": 1
      }
    ],
    "counts": {
      "processed_reviews": 2,
      "pending_reviews": 0,
      "total_reviews": 2
    },
    "processingResultDistribution": [
      {
        "count": 2,
        "processing_result": 1
      }
    ],
    "averageProcessingTime": 1.5,
    "processingRate": 100,
    "timeRange": {
      "endDate": null,
      "startDate": null
    }
  }
}
```

## 🚫 不文明行为类型接口

### 获取不文明行为类型列表
- **请求路径**：`/misconduct/types`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "id": 3,
      "typeName": "损坏设备",
      "description": "使用过程中损坏会议室设备",
      "defaultScoreImpact": -15,
      "severityLevel": 4,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 2,
      "typeName": "超时使用",
      "description": "超出预约时间仍占用会议室",
      "defaultScoreImpact": -10,
      "severityLevel": 3,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 5,
      "typeName": "未按时到场",
      "description": "预约后未按时到场使用",
      "defaultScoreImpact": -10,
      "severityLevel": 3,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 6,
      "typeName": "私自取消预约",
      "description": "临时取消预约但未通知系统",
      "defaultScoreImpact": -8,
      "severityLevel": 3,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 1,
      "typeName": "会议室卫生不打扫",
      "description": "离开后未清理会议室垃圾、白板等",
      "defaultScoreImpact": -5,
      "severityLevel": 2,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 4,
      "typeName": "噪音干扰",
      "description": "会议过程中噪音过大影响他人",
      "defaultScoreImpact": -5,
      "severityLevel": 2,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 7,
      "typeName": "违规使用设备",
      "description": "不按规定使用会议室设备",
      "defaultScoreImpact": -5,
      "severityLevel": 2,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    },
    {
      "id": 8,
      "typeName": "人数超额",
      "description": "实际使用人数超过申报人数",
      "defaultScoreImpact": -3,
      "severityLevel": 1,
      "createTime": "2025-04-11 20:02:06",
      "updateTime": "2025-04-11 20:02:06"
    }
  ]
}
```

### 根据ID获取不文明行为类型详情
- **请求路径**：`/misconduct/types/{id}`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 1,
    "typeName": "会议室卫生不打扫",
    "description": "离开后未清理会议室垃圾、白板等",
    "defaultScoreImpact": -5,
    "severityLevel": 2,
    "createTime": "2025-04-11 20:02:06",
    "updateTime": "2025-04-11 20:02:06"
  }
}
```

### 添加不文明行为类型
- **请求路径**：`/misconduct/types`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：
```json
{
  "typeName": "测试不文明行为",
  "description": "测试不文明行描述",
  "defaultScoreImpact": 10,
  "severityLevel": 3
}
```
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "添加成功"
}
```

### 更新不文明行为类型
- **请求路径**：`/misconduct/types/{id}`
- **请求方式**：PUT
- **权限要求**：管理员
- **请求参数**：
```json
{
  "typeName": "测试修改",
  "description": "测试修改描述",
  "defaultScoreImpact": 100,
  "severityLevel": 1,
  "createTime": "2023-04-01T10:00:00",
  "updateTime": "2023-04-01T12:00:00"
}
```
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "更新成功"
}
```

### 删除不文明行为类型
- **请求路径**：`/misconduct/types/{id}`
- **请求方式**：DELETE
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "删除成功"
}
```

### 分页获取不文明行为类型
- **请求路径**：`/misconduct/types/page`
- **请求方式**：GET
- **权限要求**：管理员
- **请求参数**：
- `page`: 页码（默认1）
- `pageSize`: 每页数量（默认10）

- **响应数据**：

```
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 8,
    "rows": [
      {
        "id": 3,
        "typeName": "损坏设备",
        "description": "使用过程中损坏会议室设备",
        "defaultScoreImpact": -15,
        "severityLevel": 4,
        "createTime": "2025-04-11 20:02:06",
        "updateTime": "2025-04-11 20:02:06"
      },
      {
        "id": 2,
        "typeName": "超时使用",
        "description": "超出预约时间仍占用会议室",
        "defaultScoreImpact": -10,
        "severityLevel": 3,
        "createTime": "2025-04-11 20:02:06",
        "updateTime": "2025-04-11 20:02:06"
      },
      {
        "id": 5,
        "typeName": "未按时到场",
        "description": "预约后未按时到场使用",
        "defaultScoreImpact": -10,
        "severityLevel": 3,
        "createTime": "2025-04-11 20:02:06",
        "updateTime": "2025-04-11 20:02:06"
      }
    ]
  }
}
```

## 🕒 特殊时间段管理接口

### 获取特殊时间段配置列表
- **请求路径**：`/special-time-period`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `page`: 页码（默认1）
  - `pageSize`: 每页数量（默认10）
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "id": 2,
        "weekStartDate": "2025-04-14",
        "teacherReservedCount": 0,
        "teacherAvailableCount": 5,
        "teacherMinReserveCount": 5,
        "studentAvailableCount": -1,
        "totalRoomsCount": 4,
        "adjustmentDate": "2025-04-13 23:00:00",
        "createTime": "2025-04-13 23:00:00",
        "updateTime": "2025-04-13 23:00:00"
      },
      {
        "id": 1,
        "weekStartDate": "2025-04-07",
        "teacherReservedCount": 0,
        "teacherAvailableCount": 5,
        "teacherMinReserveCount": 5,
        "studentAvailableCount": -1,
        "totalRoomsCount": 4,
        "adjustmentDate": "2025-04-13 23:00:00",
        "createTime": "2025-04-13 23:00:00",
        "updateTime": "2025-04-13 23:00:00"
      }
    ]
  }
}
```

### 获取当前周配置
- **请求路径**：`/special-time-period/current`
- **请求方式**：GET
- **权限要求**：用户/管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 2,
    "weekStartDate": "2025-04-14",
    "teacherReservedCount": 0,
    "teacherAvailableCount": 5,
    "teacherMinReserveCount": 5,
    "studentAvailableCount": -1,
    "totalRoomsCount": 4,
    "adjustmentDate": "2025-04-13 23:00:00",
    "createTime": "2025-04-13 23:00:00",
    "updateTime": "2025-04-13 23:00:00"
  }
}
```

### 手动调整特殊时间段配置
- **请求路径**：`/special-time-period/adjust`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：
```json
{
  "weekStartDate": "2024-04-07",
  "teacherReservedCount": 1,
  "teacherAvailableCount": 1,
  "teacherMinReserveCount": 1,
  "studentAvailableCount": 1,
  "totalRoomsCount": 10
}
```
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "调整成功"
}
```

### 自动调整下一周的特殊时间段配置
- **请求路径**：`/special-time-period/auto-adjust`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "自动调整成功"
}
```

### 检查用户在特殊时间段是否可以预约会议室
- **请求路径**：`/special-time-period/check`
- **请求方式**：GET
- **权限要求**：用户
- **请求参数**：
  - `userId`: 用户ID
  - `roomId`: 会议室ID
  - `startDate`: 开始日期（格式：yyyy-MM-dd）
- **响应数据**：
```json
{
  "code": 0,
  "msg": "本周学生预约数量已达上限，无法预约",
  "data": null
}或
{
  "code": 1,
  "msg": "success",
  "data": "可以预约"
}
```

### 初始化特殊时间段配置
- **请求路径**：`/special-time-period/initialize`
- **请求方式**：POST
- **权限要求**：管理员
- **请求参数**：无
- **响应数据**：
```json
{
  "code": 1,
  "msg": "success",
  "data": "初始化成功"
}
```